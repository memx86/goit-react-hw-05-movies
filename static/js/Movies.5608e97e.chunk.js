"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[249],{829:function(e,t,a){a.d(t,{Z:function(){return f}});var n=a(683),s=a(885),r=a(501),c=a(871),i=a(205),l=a(894),o="MovieCard_item__c3tx6",u="MovieCard_link__EvibY",m="MovieCard_img__YZsvZ",x="MovieCard_text__NNMdE",_=a(184);var v=function(e){var t=e.movie,a=e.pathname,v=(0,c.TH)(),d=(0,r.lr)(),f=(0,s.Z)(d,1)[0].get("query"),h=t.id,j=t.title,p=t.name,Z=t.poster_path,g=t.release_date,N=t.first_air_date,b=new Date(g||N).getFullYear()||"",C=Z?"https://image.tmdb.org/t/p/w300".concat(Z):i,k=Z?"https://image.tmdb.org/t/p/w500".concat(Z):l;return(0,_.jsx)("li",{className:o,children:(0,_.jsxs)(r.rU,{to:"".concat(a,"/").concat(h),state:(0,n.Z)((0,n.Z)({},v),{},{query:f}),className:u,children:[(0,_.jsxs)("picture",{children:[(0,_.jsx)("source",{srcSet:"".concat(C," 1x, ").concat(k," 2x")}),(0,_.jsx)("img",{className:m,src:C,alt:null!==j&&void 0!==j?j:p})]}),(0,_.jsxs)("p",{className:x,children:[null!==j&&void 0!==j?j:p,", ",b]})]})})},d="MovieList_list__yjDCC";var f=function(e){var t=e.movies,a=void 0===t?[]:t,n=e.pathname;return(0,_.jsx)("ul",{className:d,children:a.map((function(e){return(0,_.jsx)(v,{movie:e,pathname:n},e.id)}))})}},235:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(459),s="Pagination_list__t7oBK",r=a(184);var c=function(e){var t=e.page,a=e.setPage,c=e.totalPages,i=function(e){a(e<c?e:c)};return(0,r.jsxs)("div",{className:s,children:[t>1&&(0,r.jsx)(n.Z,{text:"<",onClick:function(){return i(t-1)},className:"small"}),t>1&&(0,r.jsx)(n.Z,{text:"1",onClick:function(){return a(1)},className:"small"}),t-2>2&&(0,r.jsx)("span",{children:"..."}),t-2>1&&(0,r.jsx)(n.Z,{text:t-2,onClick:function(){return i(t-2)},className:"small"}),t-1>1&&(0,r.jsx)(n.Z,{text:t-1,onClick:function(){return i(t-1)},className:"small"}),(0,r.jsx)(n.Z,{text:t,onClick:function(){},className:"current"}),t+1<c&&(0,r.jsx)(n.Z,{text:t+1,onClick:function(){return i(t+1)},className:"small"}),t+2<c&&(0,r.jsx)(n.Z,{text:t+2,onClick:function(){return i(t+2)},className:"small"}),t+2<c-1&&(0,r.jsx)("span",{children:"..."}),t<c&&(0,r.jsx)(n.Z,{text:c,onClick:function(){return i(c)},className:"small"}),t<c&&(0,r.jsx)(n.Z,{text:">",onClick:function(){return i(t+1)},className:"small"})]})}},29:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var n=a(418),s=a(87),r=a(885),c=a(791),i=a(501),l="SearchForm_form__o80os",o="SearchForm_label__GvSVH",u="SearchForm_btn__TXrR3",m="SearchForm_input__HOxJo",x=a(134),_="IconButton_search__qfkbX IconButton_btn__PoeXD",v=a(184);var d=function(e){var t=e.type,a=void 0===t?"button":t;return"search"===e.icon?(0,v.jsx)("button",{type:a,className:_,"aria-label":"search",children:(0,v.jsx)(x.RB5,{style:{width:"40"}})}):(0,v.jsx)("button",{type:a,"aria-label":"button"})};var f=function(e){var t=(0,c.useState)(""),a=(0,r.Z)(t,2),n=a[0],s=a[1],x=(0,i.lr)(),_=(0,r.Z)(x,2)[1],f=function(){return s("")};return(0,v.jsx)("form",{className:l,onSubmit:function(e){e.preventDefault();var t=e.target.query.value.trim().toLowerCase();_(t?{query:t}:{}),f()},children:(0,v.jsxs)("label",{className:o,children:[(0,v.jsx)("span",{className:u,children:(0,v.jsx)(d,{type:"submit",icon:"search"})}),(0,v.jsx)("input",{className:m,type:"text",name:"query",placeholder:"Search movies",value:n,onInput:function(e){var t=e.target.value;s(t)}})]})})},h=a(933),j=a(871),p=a(829),Z=a(908),g=a(992),N=a(235);var b=function(){var e=(0,i.lr)(),t=(0,r.Z)(e,1)[0].get("query"),a=(0,c.useState)(1),n=(0,r.Z)(a,2),s=n[0],l=n[1],o=(0,c.useState)(1),u=(0,r.Z)(o,2),m=u[0],x=u[1],_=(0,h.useQuery)(["movies",t,s],(function(){return t?(g.Z.query=t,g.Z.page=s,g.Z.getMovies()):[]})),d=_.data,f=_.isLoading,b=(0,j.TH)().pathname,C=null===d||void 0===d?void 0:d.total_pages;return(0,c.useEffect)((function(){C&&x(C)}),[C]),f?(0,v.jsx)(Z.Z,{}):(0,v.jsxs)(c.Fragment,{children:[(null===d||void 0===d?void 0:d.results)&&(0,v.jsx)(p.Z,{movies:d.results,pathname:b}),t&&(0,v.jsx)(N.Z,{page:s,setPage:l,totalPages:m})]})};var C=function(){return(0,v.jsx)(n.Z,{children:(0,v.jsxs)(s.Z,{children:[(0,v.jsx)(f,{}),(0,v.jsx)(b,{})]})})}}}]);
//# sourceMappingURL=Movies.5608e97e.chunk.js.map