"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[249],{829:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(683),s=a(885),r=a(501),l=a(871),o=a(205),c=a(894),i="MovieCard_item__c3tx6",u="MovieCard_link__EvibY",m="MovieCard_img__YZsvZ",v="MovieCard_text__NNMdE",x=a(184);var _=function(e){var t=e.movie,a=e.pathname,_=(0,l.TH)(),d=(0,r.lr)(),g=(0,s.Z)(d,1)[0],h=g.get("query"),p=g.get("page"),f=t.id,j=t.title,Z=t.name,N=t.poster_path,b=t.release_date,C=t.first_air_date,y=new Date(b||C).getFullYear()||"",k=N?"https://image.tmdb.org/t/p/w300".concat(N):o,q=N?"https://image.tmdb.org/t/p/w500".concat(N):c;return(0,x.jsx)("li",{className:i,children:(0,x.jsxs)(r.rU,{to:"".concat(a,"/").concat(f),state:(0,n.Z)((0,n.Z)({},_),{},{query:h,page:p}),className:u,children:[(0,x.jsxs)("picture",{children:[(0,x.jsx)("source",{srcSet:"".concat(k," 1x, ").concat(q," 2x")}),(0,x.jsx)("img",{className:m,src:k,alt:null!==j&&void 0!==j?j:Z})]}),(0,x.jsxs)("p",{className:v,children:[null!==j&&void 0!==j?j:Z,", ",y]})]})})},d="MovieList_list__yjDCC";var g=function(e){var t=e.movies,a=void 0===t?[]:t,n=e.pathname;return(0,x.jsx)("ul",{className:d,children:a.map((function(e){return(0,x.jsx)(_,{movie:e,pathname:n},e.id)}))})}},235:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(885),s=a(501),r=a(459),l="Pagination_list__t7oBK",o=a(184);var c=function(e){var t=e.totalPages,a=(0,s.lr)(),c=(0,n.Z)(a,2),i=c[0],u=c[1],m=i.get("page")?Number(i.get("page")):1,v=i.get("query"),x=function(e){var a;a=e<t?e:t,u(v?{query:v,page:a}:{page:a})};return(0,o.jsxs)("div",{className:l,children:[m>1&&(0,o.jsx)(r.Z,{text:"<",onClick:function(){return x(m-1)},className:"small"}),m>1&&(0,o.jsx)(r.Z,{text:"1",onClick:function(){return x(1)},className:"small"}),m-2>2&&(0,o.jsx)("span",{children:"..."}),m-2>1&&(0,o.jsx)(r.Z,{text:m-2,onClick:function(){return x(m-2)},className:"small"}),m-1>1&&(0,o.jsx)(r.Z,{text:m-1,onClick:function(){return x(m-1)},className:"small"}),(0,o.jsx)(r.Z,{text:m,onClick:function(){},className:"current"}),m+1<t&&(0,o.jsx)(r.Z,{text:m+1,onClick:function(){return x(m+1)},className:"small"}),m+2<t&&(0,o.jsx)(r.Z,{text:m+2,onClick:function(){return x(m+2)},className:"small"}),m+2<t-1&&(0,o.jsx)("span",{children:"..."}),m<t&&(0,o.jsx)(r.Z,{text:t,onClick:function(){return x(t)},className:"small"}),m<t&&(0,o.jsx)(r.Z,{text:">",onClick:function(){return x(m+1)},className:"small"})]})}},661:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var n=a(418),s=a(87),r=a(885),l=a(791),o=a(501),c="SearchForm_form__o80os",i="SearchForm_label__GvSVH",u="SearchForm_btn__TXrR3",m="SearchForm_input__HOxJo",v=a(134),x="IconButton_search__qfkbX IconButton_btn__PoeXD",_=a(184);var d=function(e){var t=e.type,a=void 0===t?"button":t;return"search"===e.icon?(0,_.jsx)("button",{type:a,className:x,"aria-label":"search",children:(0,_.jsx)(v.RB5,{style:{width:"40"}})}):(0,_.jsx)("button",{type:a,"aria-label":"button"})};var g=function(e){var t=(0,l.useState)(""),a=(0,r.Z)(t,2),n=a[0],s=a[1],v=(0,o.lr)(),x=(0,r.Z)(v,2)[1],g=function(){return s("")};return(0,_.jsx)("form",{className:c,onSubmit:function(e){e.preventDefault();var t=e.target.query.value.trim().toLowerCase();x(t?{query:t}:{}),g()},children:(0,_.jsxs)("label",{className:i,children:[(0,_.jsx)("span",{className:u,children:(0,_.jsx)(d,{type:"submit",icon:"search"})}),(0,_.jsx)("input",{className:m,type:"text",name:"query",placeholder:"Search movies",value:n,onInput:function(e){var t=e.target.value;s(t)}})]})})},h=a(933),p=a(871),f=a(829),j=a(908),Z=a(992),N=a(235),b="MovieSearch_error__G9X2c";var C=function(e){var t,a=e.totalPages,n=e.setTotalPages,s=(0,o.lr)(),c=(0,r.Z)(s,1)[0],i=c.get("query"),u=c.get("page")?c.get("page"):1,m=(0,h.useQuery)(["movies",i,u],(function(){return i?(Z.Z.query=i,Z.Z.page=u,Z.Z.getMovies()):[]})),v=m.data,x=m.isLoading,d=(0,p.TH)().pathname,g=null===v||void 0===v?void 0:v.total_pages;return(0,l.useEffect)((function(){g&&n(g)}),[g,n]),x?(0,_.jsx)(j.Z,{}):!i||null!==v&&void 0!==v&&null!==(t=v.results)&&void 0!==t&&t.length?(0,_.jsxs)(l.Fragment,{children:[(null===v||void 0===v?void 0:v.results)&&(0,_.jsx)(f.Z,{movies:v.results,pathname:d}),i&&(0,_.jsx)(N.Z,{totalPages:a})]}):(0,_.jsxs)("p",{className:b,children:[i," not found"]})};var y=function(e){var t=e.totalPages,a=e.setTotalPages;return(0,_.jsx)(n.Z,{children:(0,_.jsxs)(s.Z,{children:[(0,_.jsx)(g,{}),(0,_.jsx)(C,{totalPages:t,setTotalPages:a})]})})}}}]);
//# sourceMappingURL=Movies.a03a8622.chunk.js.map