"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[249],{829:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(683),a=n(885),i=n(501),c=n(871),o="MovieCard_item__c3tx6",s="MovieCard_link__EvibY",u="MovieCard_img__YZsvZ",l="MovieCard_text__NNMdE",v=n(184);var h=function(e){var t=e.movie,n=e.pathname,h=(0,c.TH)(),d=(0,i.lr)(),f=(0,a.Z)(d,1)[0].get("query"),_=t.id,m=t.title,Z=t.name,p=t.poster_path,b=t.release_date,y=t.first_air_date,j=new Date(b||y).getFullYear()||"";return(0,v.jsx)("li",{className:o,children:(0,v.jsxs)(i.rU,{to:"".concat(n,"/").concat(_),state:(0,r.Z)((0,r.Z)({},h),{},{query:f}),className:s,children:[(0,v.jsx)("img",{className:u,src:"https://image.tmdb.org/t/p/w500".concat(p),alt:null!==m&&void 0!==m?m:Z}),(0,v.jsxs)("p",{className:l,children:[null!==m&&void 0!==m?m:Z,", ",j]})]})})},d="MovieList_list__yjDCC";var f=function(e){var t=e.movies,n=void 0===t?[]:t,r=e.pathname;return(0,v.jsx)("ul",{className:d,children:n.map((function(e){return(0,v.jsx)(h,{movie:e,pathname:r},e.id)}))})}},418:function(e,t,n){n.d(t,{Z:function(){return i}});var r={section:"Section_section__Z2PLw",search:"Section_search__Yd9dR"},a=n(184);var i=function(e){var t=e.type,n=void 0===t?"section":t,i=e.children;return(0,a.jsx)("section",{className:r[n],children:i})}},992:function(e,t,n){var r=n(671),a=n(144),i=n(274),c=n(359),o=(0,c.Z)("BASE_URL"),s=(0,c.Z)("KEY"),u=(0,c.Z)("PARAMS"),l=(0,c.Z)("query"),v=(0,c.Z)("page"),h=(0,c.Z)("fetchUrl"),d=function(){function e(){var t=this;(0,r.Z)(this,e),Object.defineProperty(this,h,{value:f}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),this.getTrending=function(){var n="".concat(e.ENDPOINTS.TRENDING,"?page=").concat((0,i.Z)(t,v)[v],"&");return(0,i.Z)(t,h)[h](n)},(0,i.Z)(this,v)[v]=1}return(0,a.Z)(e,[{key:"getMovies",value:function(){var t=new URLSearchParams({query:(0,i.Z)(this,l)[l],page:(0,i.Z)(this,v)[v]}),n="".concat(e.ENDPOINTS.SEARCH,"?").concat(t,"&");return(0,i.Z)(this,h)[h](n).then((function(e){return e.results}))}},{key:"getMovie",value:function(t){var n="".concat(e.ENDPOINTS.MOVIE).concat(t,"?");return(0,i.Z)(this,h)[h](n)}},{key:"getCast",value:function(t){var n="".concat(e.ENDPOINTS.MOVIE).concat(t,"/credits?");return(0,i.Z)(this,h)[h](n).then((function(e){return e.cast}))}},{key:"getReviews",value:function(t){var n="".concat(e.ENDPOINTS.MOVIE).concat(t,"/reviews?");return(0,i.Z)(this,h)[h](n).then((function(e){return e.results}))}},{key:"query",get:function(){return(0,i.Z)(this,l)[l]},set:function(e){(0,i.Z)(this,l)[l]=e}},{key:"page",get:function(){return(0,i.Z)(this,v)[v]},set:function(e){(0,i.Z)(this,v)[v]=e>0?e:1}}]),e}();function f(e){return fetch("".concat((0,i.Z)(d,o)[o]).concat(e).concat((0,i.Z)(d,u)[u])).then((function(e){return e.ok?e.json():Promise.reject(e)}))}Object.defineProperty(d,o,{writable:!0,value:"https://api.themoviedb.org/3/"}),Object.defineProperty(d,s,{writable:!0,value:"fadfbb72581e18342bb7490adda20bdd"}),Object.defineProperty(d,u,{writable:!0,value:new URLSearchParams({api_key:(0,i.Z)(d,s)[s],language:"en-US"})}),d.ENDPOINTS={SEARCH:"search/movie",MOVIE:"movie/",TRENDING:"trending/all/day"};var _=new d;t.Z=_},29:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(418),a=n(87),i=n(885),c=n(791),o=n(501),s="SearchForm_form__o80os",u="SearchForm_label__GvSVH",l="SearchForm_btn__TXrR3",v="SearchForm_input__HOxJo",h=n(134),d="IconButton_search__qfkbX IconButton_btn__PoeXD",f=n(184);var _=function(e){var t=e.type,n=void 0===t?"button":t;return"search"===e.icon?(0,f.jsx)("button",{type:n,className:d,"aria-label":"search",children:(0,f.jsx)(h.RB5,{style:{width:"40"}})}):(0,f.jsx)("button",{type:n,"aria-label":"button"})};var m=function(e){var t=(0,c.useState)(""),n=(0,i.Z)(t,2),r=n[0],a=n[1],h=(0,o.lr)(),d=(0,i.Z)(h,2)[1],m=function(){return a("")};return(0,f.jsx)("form",{className:s,onSubmit:function(e){e.preventDefault();var t=e.target.query.value.trim().toLowerCase();d(t?{query:t}:{}),m()},children:(0,f.jsxs)("label",{className:u,children:[(0,f.jsx)("span",{className:l,children:(0,f.jsx)(_,{type:"submit",icon:"search"})}),(0,f.jsx)("input",{className:v,type:"text",name:"query",placeholder:"Search movies",value:r,onInput:function(e){var t=e.target.value;a(t)}})]})})},Z=n(933),p=n(871),b=n(829),y=n(908),j=n(992);var g=function(){var e=(0,o.lr)(),t=(0,i.Z)(e,1)[0].get("query"),n=(0,Z.useQuery)(["movies",t],(function(){return t?(j.Z.query=t,j.Z.getMovies()):[]})),r=n.data,a=n.isLoading,c=(0,p.TH)().pathname;return a?(0,f.jsx)(y.Z,{}):(0,f.jsx)(b.Z,{movies:r,pathname:c})};var N=function(){return(0,f.jsx)(r.Z,{children:(0,f.jsxs)(a.Z,{children:[(0,f.jsx)(m,{}),(0,f.jsx)(g,{})]})})}}}]);
//# sourceMappingURL=Movies.8c4900c4.chunk.js.map