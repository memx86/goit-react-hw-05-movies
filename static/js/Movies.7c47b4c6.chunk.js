"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[249],{648:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,{Z:function(){return j}});var c=r(885),o=r(501),i=r(871),l=r(205),u=r(894),m="MovieCard_item__c3tx6",v="MovieCard_link__EvibY",p="MovieCard_img__YZsvZ",f="MovieCard_text__NNMdE",g=r(184);var x=function(e){var t=e.movie,r=e.pathname,n=(0,i.TH)(),a=(0,o.lr)(),x=(0,c.Z)(a,1)[0],d=x.get("query"),j=x.get("page"),_=t.id,h=t.title,b=t.name,Z=t.poster_path,y=t.release_date,N=t.first_air_date,O=new Date(y||N).getFullYear()||"",C=Z?"https://image.tmdb.org/t/p/w300".concat(Z):l,P=Z?"https://image.tmdb.org/t/p/w500".concat(Z):u;return(0,g.jsx)("li",{className:m,children:(0,g.jsxs)(o.rU,{to:"".concat(r,"/").concat(_),state:s(s({},n),{},{query:d,page:j}),className:v,children:[(0,g.jsxs)("picture",{children:[(0,g.jsx)("source",{srcSet:"".concat(C," 1x, ").concat(P," 2x")}),(0,g.jsx)("img",{className:p,src:C,alt:null!==h&&void 0!==h?h:b})]}),(0,g.jsxs)("p",{className:f,children:[null!==h&&void 0!==h?h:b,", ",O]})]})})},d="MovieList_list__yjDCC";var j=function(e){var t=e.movies,r=void 0===t?[]:t,n=e.pathname;return(0,g.jsx)("ul",{className:d,children:r.map((function(e){return(0,g.jsx)(x,{movie:e,pathname:n},e.id)}))})}},235:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(885),a=r(501),s=r(459),c="Pagination_list__t7oBK",o=r(184);var i=function(e){var t=e.totalPages,r=(0,a.lr)(),i=(0,n.Z)(r,2),l=i[0],u=i[1],m=l.get("page")?Number(l.get("page")):1,v=l.get("query"),p=function(e){var r;r=e<t?e:t,u(v?{query:v,page:r}:{page:r})};return(0,o.jsxs)("div",{className:c,children:[m>1&&(0,o.jsx)(s.Z,{text:"<",onClick:function(){return p(m-1)},className:"small"}),m>1&&(0,o.jsx)(s.Z,{text:"1",onClick:function(){return p(1)},className:"small"}),m-2>2&&(0,o.jsx)("span",{children:"..."}),m-2>1&&(0,o.jsx)(s.Z,{text:m-2,onClick:function(){return p(m-2)},className:"small"}),m-1>1&&(0,o.jsx)(s.Z,{text:m-1,onClick:function(){return p(m-1)},className:"small"}),(0,o.jsx)(s.Z,{text:m,onClick:function(){},className:"current"}),m+1<t&&(0,o.jsx)(s.Z,{text:m+1,onClick:function(){return p(m+1)},className:"small"}),m+2<t&&(0,o.jsx)(s.Z,{text:m+2,onClick:function(){return p(m+2)},className:"small"}),m+2<t-1&&(0,o.jsx)("span",{children:"..."}),m<t&&(0,o.jsx)(s.Z,{text:t,onClick:function(){return p(t)},className:"small"}),m<t&&(0,o.jsx)(s.Z,{text:">",onClick:function(){return p(m+1)},className:"small"})]})}},411:function(e,t,r){r.r(t),r.d(t,{default:function(){return N}});var n=r(418),a=r(87),s=r(885),c=r(791),o=r(501),i=r(134),l="SearchForm_form__o80os",u="SearchForm_label__GvSVH",m="SearchForm_btn__TXrR3",v="SearchForm_input__HOxJo",p=r(790),f=r(184);var g=function(){var e=(0,c.useState)(""),t=(0,s.Z)(e,2),r=t[0],n=t[1],a=(0,o.lr)(),g=(0,s.Z)(a,2)[1],x=function(){return n("")};return(0,f.jsx)("form",{className:l,onSubmit:function(e){e.preventDefault();var t=e.target.query.value.trim().toLowerCase();g(t?{query:t}:{}),x()},children:(0,f.jsxs)("label",{className:u,children:[(0,f.jsx)("span",{className:m,children:(0,f.jsx)(p.Z,{type:"submit",role:"search",icon:(0,f.jsx)(i.RB5,{style:{width:"40"}})})}),(0,f.jsx)("input",{className:v,type:"text",name:"query",placeholder:"Search movies",value:r,onInput:function(e){var t=e.target.value;n(t)}})]})})},x=r(933),d=r(871),j=r(648),_=r(908),h=r(877),b=r(235),Z="MovieSearch_error__G9X2c";var y=function(e){var t,r=e.totalPages,n=e.setTotalPages,a=(0,o.lr)(),i=(0,s.Z)(a,1)[0],l=i.get("query"),u=i.get("page")?i.get("page"):1,m=(0,x.useQuery)(["movies",l,u],(function(){return l?(h.Z.query=l,h.Z.page=u,h.Z.getMovies()):[]})),v=m.data,p=m.isLoading,g=(0,d.TH)().pathname,y=null===v||void 0===v?void 0:v.total_pages;return(0,c.useEffect)((function(){y&&n(y)}),[y,n]),p?(0,f.jsx)(_.Z,{}):!l||null!==v&&void 0!==v&&null!==(t=v.results)&&void 0!==t&&t.length?(0,f.jsxs)(c.Fragment,{children:[(null===v||void 0===v?void 0:v.results)&&(0,f.jsx)(j.Z,{movies:v.results,pathname:g}),l&&(0,f.jsx)(b.Z,{totalPages:r})]}):(0,f.jsxs)("p",{className:Z,children:[l," not found"]})};var N=function(e){var t=e.totalPages,r=e.setTotalPages;return(0,f.jsx)(n.Z,{children:(0,f.jsxs)(a.Z,{children:[(0,f.jsx)(g,{}),(0,f.jsx)(y,{totalPages:t,setTotalPages:r})]})})}}}]);
//# sourceMappingURL=Movies.7c47b4c6.chunk.js.map