"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[249],{829:function(e,t,a){a.d(t,{Z:function(){return f}});var s=a(683),n=a(885),r=a(501),c=a(871),i=a(205),o=a(894),l="MovieCard_item__c3tx6",u="MovieCard_link__EvibY",m="MovieCard_img__YZsvZ",x="MovieCard_text__NNMdE",v=a(184);var _=function(e){var t=e.movie,a=e.pathname,_=(0,c.TH)(),d=(0,r.lr)(),f=(0,n.Z)(d,1)[0].get("query"),h=t.id,g=t.title,j=t.name,p=t.poster_path,Z=t.release_date,N=t.first_air_date,b=new Date(Z||N).getFullYear()||"",C=p?"https://image.tmdb.org/t/p/w300".concat(p):i,k=p?"https://image.tmdb.org/t/p/w500".concat(p):o;return(0,v.jsx)("li",{className:l,children:(0,v.jsxs)(r.rU,{to:"".concat(a,"/").concat(h),state:(0,s.Z)((0,s.Z)({},_),{},{query:f}),className:u,children:[(0,v.jsxs)("picture",{children:[(0,v.jsx)("source",{srcSet:"".concat(C," 1x, ").concat(k," 2x")}),(0,v.jsx)("img",{className:m,src:C,alt:null!==g&&void 0!==g?g:j})]}),(0,v.jsxs)("p",{className:x,children:[null!==g&&void 0!==g?g:j,", ",b]})]})})},d="MovieList_list__yjDCC";var f=function(e){var t=e.movies,a=void 0===t?[]:t,s=e.pathname;return(0,v.jsx)("ul",{className:d,children:a.map((function(e){return(0,v.jsx)(_,{movie:e,pathname:s},e.id)}))})}},235:function(e,t,a){a.d(t,{Z:function(){return c}});var s=a(459),n="Pagination_list__t7oBK",r=a(184);var c=function(e){var t=e.page,a=e.setPage,c=e.totalPages,i=function(e){a(e<c?e:c)};return(0,r.jsxs)("div",{className:n,children:[t>1&&(0,r.jsx)(s.Z,{text:"<",onClick:function(){return i(t-1)},className:"small"}),t>1&&(0,r.jsx)(s.Z,{text:"1",onClick:function(){return a(1)},className:"small"}),t-2>2&&(0,r.jsx)("span",{children:"..."}),t-2>1&&(0,r.jsx)(s.Z,{text:t-2,onClick:function(){return i(t-2)},className:"small"}),t-1>1&&(0,r.jsx)(s.Z,{text:t-1,onClick:function(){return i(t-1)},className:"small"}),(0,r.jsx)(s.Z,{text:t,onClick:function(){},className:"current"}),t+1<c&&(0,r.jsx)(s.Z,{text:t+1,onClick:function(){return i(t+1)},className:"small"}),t+2<c&&(0,r.jsx)(s.Z,{text:t+2,onClick:function(){return i(t+2)},className:"small"}),t+2<c-1&&(0,r.jsx)("span",{children:"..."}),t<c&&(0,r.jsx)(s.Z,{text:c,onClick:function(){return i(c)},className:"small"}),t<c&&(0,r.jsx)(s.Z,{text:">",onClick:function(){return i(t+1)},className:"small"})]})}},29:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var s=a(418),n=a(87),r=a(885),c=a(791),i=a(501),o="SearchForm_form__o80os",l="SearchForm_label__GvSVH",u="SearchForm_btn__TXrR3",m="SearchForm_input__HOxJo",x=a(134),v="IconButton_search__qfkbX IconButton_btn__PoeXD",_=a(184);var d=function(e){var t=e.type,a=void 0===t?"button":t;return"search"===e.icon?(0,_.jsx)("button",{type:a,className:v,"aria-label":"search",children:(0,_.jsx)(x.RB5,{style:{width:"40"}})}):(0,_.jsx)("button",{type:a,"aria-label":"button"})};var f=function(e){var t=(0,c.useState)(""),a=(0,r.Z)(t,2),s=a[0],n=a[1],x=(0,i.lr)(),v=(0,r.Z)(x,2)[1],f=function(){return n("")};return(0,_.jsx)("form",{className:o,onSubmit:function(e){e.preventDefault();var t=e.target.query.value.trim().toLowerCase();v(t?{query:t}:{}),f()},children:(0,_.jsxs)("label",{className:l,children:[(0,_.jsx)("span",{className:u,children:(0,_.jsx)(d,{type:"submit",icon:"search"})}),(0,_.jsx)("input",{className:m,type:"text",name:"query",placeholder:"Search movies",value:s,onInput:function(e){var t=e.target.value;n(t)}})]})})},h=a(933),g=a(871),j=a(829),p=a(908),Z=a(992),N=a(235);var b=function(e){var t=e.page,a=e.totalPages,s=e.setPage,n=e.setTotalPages,o=(0,i.lr)(),l=(0,r.Z)(o,1)[0].get("query"),u=(0,h.useQuery)(["movies",l,t],(function(){return l?(Z.Z.query=l,Z.Z.page=t,Z.Z.getMovies()):[]})),m=u.data,x=u.isLoading;(0,c.useEffect)((function(){s(1)}),[s]);var v=(0,g.TH)().pathname,d=null===m||void 0===m?void 0:m.total_pages;return(0,c.useEffect)((function(){d&&n(d)}),[d,n]),x?(0,_.jsx)(p.Z,{}):(0,_.jsxs)(c.Fragment,{children:[(null===m||void 0===m?void 0:m.results)&&(0,_.jsx)(j.Z,{movies:m.results,pathname:v}),l&&(0,_.jsx)(N.Z,{page:t,setPage:s,totalPages:a})]})};var C=function(e){var t=e.page,a=e.totalPages,r=e.setPage,c=e.setTotalPages;return(0,_.jsx)(s.Z,{children:(0,_.jsxs)(n.Z,{children:[(0,_.jsx)(f,{}),(0,_.jsx)(b,{page:t,setPage:r,totalPages:a,setTotalPages:c})]})})}}}]);
//# sourceMappingURL=Movies.bde7c252.chunk.js.map