"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[249],{459:function(o,i,K){K.d(i,{Z:function(){return e}});var A={btn:"Button_btn__RBtNK",center:"Button_center__afHOB Button_btn__RBtNK",small:"Button_small__QdkfY Button_btn__RBtNK",current:"Button_current__7YQVH Button_small__QdkfY Button_btn__RBtNK"},t=K(184);var e=function(o){var i=o.text,K=o.onClick,e=o.type,n=void 0===e?"button":e,a=o.className,r=void 0===a?"btn":a;return(0,t.jsx)("button",{type:n,className:A[r],onClick:K,children:i})}},829:function(o,i,K){K.d(i,{Z:function(){return h}});var A=K(683),t=K(885),e=K(501),n=K(871),a=K(205),r="MovieCard_item__c3tx6",g="MovieCard_link__EvibY",C="MovieCard_img__YZsvZ",c="MovieCard_text__NNMdE",s=K(184);var u=function(o){var i=o.movie,K=o.pathname,u=(0,n.TH)(),l=(0,e.lr)(),h=(0,t.Z)(l,1)[0].get("query"),j=i.id,Z=i.title,f=i.name,d=i.poster_path,v=i.release_date,m=i.first_air_date,_=new Date(v||m).getFullYear()||"",p=d?"https://image.tmdb.org/t/p/w300".concat(d):a;return(0,s.jsx)("li",{className:r,children:(0,s.jsxs)(e.rU,{to:"".concat(K,"/").concat(j),state:(0,A.Z)((0,A.Z)({},u),{},{query:h}),className:g,children:[(0,s.jsx)("img",{className:C,src:p,alt:null!==Z&&void 0!==Z?Z:f}),(0,s.jsxs)("p",{className:c,children:[null!==Z&&void 0!==Z?Z:f,", ",_]})]})})},l="MovieList_list__yjDCC";var h=function(o){var i=o.movies,K=void 0===i?[]:i,A=o.pathname;return(0,s.jsx)("ul",{className:l,children:K.map((function(o){return(0,s.jsx)(u,{movie:o,pathname:A},o.id)}))})}},235:function(o,i,K){K.d(i,{Z:function(){return n}});var A=K(459),t="Pagination_list__t7oBK",e=K(184);var n=function(o){var i=o.page,K=o.setPage,n=o.totalPages,a=function(o){K(o<n?o:n)};return(0,e.jsxs)("div",{className:t,children:[i>1&&(0,e.jsx)(A.Z,{text:"<",onClick:function(){return a(i-1)},className:"small"}),i>1&&(0,e.jsx)(A.Z,{text:"1",onClick:function(){return K(1)},className:"small"}),i-2>2&&(0,e.jsx)("span",{children:"..."}),i-2>1&&(0,e.jsx)(A.Z,{text:i-2,onClick:function(){return a(i-2)},className:"small"}),i-1>1&&(0,e.jsx)(A.Z,{text:i-1,onClick:function(){return a(i-1)},className:"small"}),(0,e.jsx)(A.Z,{text:i,onClick:function(){},className:"current"}),i+1<n&&(0,e.jsx)(A.Z,{text:i+1,onClick:function(){return a(i+1)},className:"small"}),i+2<n&&(0,e.jsx)(A.Z,{text:i+2,onClick:function(){return a(i+2)},className:"small"}),i+2<n-1&&(0,e.jsx)("span",{children:"..."}),i<n&&(0,e.jsx)(A.Z,{text:n,onClick:function(){return a(n)},className:"small"}),i<n&&(0,e.jsx)(A.Z,{text:">",onClick:function(){return a(i+1)},className:"small"})]})}},418:function(o,i,K){K.d(i,{Z:function(){return e}});var A={section:"Section_section__Z2PLw",search:"Section_search__Yd9dR"},t=K(184);var e=function(o){var i=o.type,K=void 0===i?"section":i,e=o.children;return(0,t.jsx)("section",{className:A[K],children:e})}},992:function(o,i,K){var A=K(671),t=K(144),e=K(274),n=K(359),a=(0,n.Z)("BASE_URL"),r=(0,n.Z)("KEY"),g=(0,n.Z)("PARAMS"),C=(0,n.Z)("query"),c=(0,n.Z)("page"),s=(0,n.Z)("fetchUrl"),u=function(){function o(){var i=this;(0,A.Z)(this,o),Object.defineProperty(this,s,{value:l}),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),this.getTrending=function(){var K="".concat(o.ENDPOINTS.TRENDING,"?page=").concat((0,e.Z)(i,c)[c],"&");return(0,e.Z)(i,s)[s](K)},(0,e.Z)(this,c)[c]=1}return(0,t.Z)(o,[{key:"getMovies",value:function(){var i=new URLSearchParams({query:(0,e.Z)(this,C)[C],page:(0,e.Z)(this,c)[c]}),K="".concat(o.ENDPOINTS.SEARCH,"?").concat(i,"&");return(0,e.Z)(this,s)[s](K)}},{key:"getMovie",value:function(i){var K="".concat(o.ENDPOINTS.MOVIE).concat(i,"?");return(0,e.Z)(this,s)[s](K)}},{key:"getCast",value:function(i){var K="".concat(o.ENDPOINTS.MOVIE).concat(i,"/credits?");return(0,e.Z)(this,s)[s](K).then((function(o){return o.cast}))}},{key:"getReviews",value:function(i){var K="".concat(o.ENDPOINTS.MOVIE).concat(i,"/reviews?");return(0,e.Z)(this,s)[s](K).then((function(o){return o.results}))}},{key:"query",get:function(){return(0,e.Z)(this,C)[C]},set:function(o){(0,e.Z)(this,C)[C]=o}},{key:"page",get:function(){return(0,e.Z)(this,c)[c]},set:function(o){(0,e.Z)(this,c)[c]=o>0?o:1}}]),o}();function l(o){return fetch("".concat((0,e.Z)(u,a)[a]).concat(o).concat((0,e.Z)(u,g)[g])).then((function(o){return o.ok?o.json():Promise.reject(o)}))}Object.defineProperty(u,a,{writable:!0,value:"https://api.themoviedb.org/3/"}),Object.defineProperty(u,r,{writable:!0,value:"fadfbb72581e18342bb7490adda20bdd"}),Object.defineProperty(u,g,{writable:!0,value:new URLSearchParams({api_key:(0,e.Z)(u,r)[r],language:"en-US"})}),u.ENDPOINTS={SEARCH:"search/movie",MOVIE:"movie/",TRENDING:"trending/all/day"};var h=new u;i.Z=h},29:function(o,i,K){K.r(i),K.d(i,{default:function(){return x}});var A=K(418),t=K(87),e=K(885),n=K(791),a=K(501),r="SearchForm_form__o80os",g="SearchForm_label__GvSVH",C="SearchForm_btn__TXrR3",c="SearchForm_input__HOxJo",s=K(134),u="IconButton_search__qfkbX IconButton_btn__PoeXD",l=K(184);var h=function(o){var i=o.type,K=void 0===i?"button":i;return"search"===o.icon?(0,l.jsx)("button",{type:K,className:u,"aria-label":"search",children:(0,l.jsx)(s.RB5,{style:{width:"40"}})}):(0,l.jsx)("button",{type:K,"aria-label":"button"})};var j=function(o){var i=(0,n.useState)(""),K=(0,e.Z)(i,2),A=K[0],t=K[1],s=(0,a.lr)(),u=(0,e.Z)(s,2)[1],j=function(){return t("")};return(0,l.jsx)("form",{className:r,onSubmit:function(o){o.preventDefault();var i=o.target.query.value.trim().toLowerCase();u(i?{query:i}:{}),j()},children:(0,l.jsxs)("label",{className:g,children:[(0,l.jsx)("span",{className:C,children:(0,l.jsx)(h,{type:"submit",icon:"search"})}),(0,l.jsx)("input",{className:c,type:"text",name:"query",placeholder:"Search movies",value:A,onInput:function(o){var i=o.target.value;t(i)}})]})})},Z=K(933),f=K(871),d=K(829),v=K(908),m=K(992),_=K(235);var p=function(){var o=(0,a.lr)(),i=(0,e.Z)(o,1)[0].get("query"),K=(0,n.useState)(1),A=(0,e.Z)(K,2),t=A[0],r=A[1],g=(0,n.useState)(1),C=(0,e.Z)(g,2),c=C[0],s=C[1],u=(0,Z.useQuery)(["movies",i,t],(function(){return i?(m.Z.query=i,m.Z.page=t,m.Z.getMovies()):[]})),h=u.data,j=u.isLoading,p=(0,f.TH)().pathname,x=null===h||void 0===h?void 0:h.total_pages;return(0,n.useEffect)((function(){x&&s(x)}),[x]),j?(0,l.jsx)(v.Z,{}):(0,l.jsxs)(n.Fragment,{children:[(null===h||void 0===h?void 0:h.results)&&(0,l.jsx)(d.Z,{movies:h.results,pathname:p}),i&&(0,l.jsx)(_.Z,{page:t,setPage:r,totalPages:c})]})};var x=function(){return(0,l.jsx)(A.Z,{children:(0,l.jsxs)(t.Z,{children:[(0,l.jsx)(j,{}),(0,l.jsx)(p,{})]})})}},205:function(o){o.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBkZWZhdWx0IHF1YWxpdHkK/9sAQwAIBgYHBgUIBwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8nOT04MjwuMzQy/9sAQwEJCQkMCwwYDQ0YMiEcITIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy/8AAEQgBjgEmAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A9MooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAKiXZOoSWzqAox5bepwCR+tSxzZafeVVY3256cYB5/OqzwGdroIcSLKrIfQhFqBJUnQySDbEbkeYG7HYOD/wLFAGojrIoZGDKehByKjE2LiVGKhERWyffOc/lUVrs+0XHk7fK+X7vTdjn+lMuet9/17j/ANnoAtGeEBiZY8L975hx9aVpo0QO0iKh6MWAFVRbxLewARrhYWxx7r/iagBVUhQLECGl2mX7qgNjp69KANIugTeWXZjO7PGKRZY3GUdWGM8HPH+RWbEYzZwbijQi4bdjhcZbHHpnFMuCg+2/Z9m3EQbH3epz0/X8aANZJY5ASjqwHUqc0iSxyZ2SK2Ou05xWZGpLziSS3VTAd32cHp2P86nsyouNmIGby8iSHjIyOooAmuZLgTRRW/lZZWYmQHtj0+tSQ+eFP2gxZ7eWDjH41BdQ+fdwJ5kkfyOcxtg9VpLiEQWDoZJJE3AuXbJ25Gf0zQBaWaJkLrIhVerBhgU7cu4LkZIyBnrWbN5RNz9n2bfszb9nTPbp+NWBKj38AVgxETE4PqVoAsJNFI21JEY4zgMDxUdzcrDFJtdPNVCwQnngelVbeNEttOKqASeT9UJNRXCwfYLsybPO3vknrnPH6YoA1qKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigBAoBJAAJ5JA60nlxgMNi4Y5YY6n3p1FADURY1CooVR0AGBQURt2VU7hhsjqPQ/nTqKAE2ruDYGQMA47U1oYmUK0aEA5AKjr60+igCCeFmiYQeWrE5IZeG+tMtLZoQ7SiPc+BtjXCgDt+pq1RQAxIo4gRHGqA9QoxQkUcWfLjVM9doxmn0UAJtBYNgbhwDjpS9aKKAGpHHGpVEVQeSFGKRIYozlI0Xr91QOvWn0UANEaAKAigL90Y6fSkaGJ23PEjNjGSoJxT6KACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//Z"}}]);
//# sourceMappingURL=Movies.3c5ef428.chunk.js.map