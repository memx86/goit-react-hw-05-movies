"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[249],{829:function(e,t,a){a.d(t,{Z:function(){return f}});var s=a(683),n=a(885),r=a(501),l=a(871),c=a(205),o=a(894),i="MovieCard_item__c3tx6",u="MovieCard_link__EvibY",m="MovieCard_img__YZsvZ",v="MovieCard_text__NNMdE",x=a(184);var _=function(e){var t=e.movie,a=e.pathname,_=(0,l.TH)(),d=(0,r.lr)(),f=(0,n.Z)(d,1)[0].get("query"),h=t.id,g=t.title,j=t.name,p=t.poster_path,Z=t.release_date,N=t.first_air_date,b=new Date(Z||N).getFullYear()||"",C=p?"https://image.tmdb.org/t/p/w300".concat(p):c,k=p?"https://image.tmdb.org/t/p/w500".concat(p):o;return(0,x.jsx)("li",{className:i,children:(0,x.jsxs)(r.rU,{to:"".concat(a,"/").concat(h),state:(0,s.Z)((0,s.Z)({},_),{},{query:f}),className:u,children:[(0,x.jsxs)("picture",{children:[(0,x.jsx)("source",{srcSet:"".concat(C," 1x, ").concat(k," 2x")}),(0,x.jsx)("img",{className:m,src:C,alt:null!==g&&void 0!==g?g:j})]}),(0,x.jsxs)("p",{className:v,children:[null!==g&&void 0!==g?g:j,", ",b]})]})})},d="MovieList_list__yjDCC";var f=function(e){var t=e.movies,a=void 0===t?[]:t,s=e.pathname;return(0,x.jsx)("ul",{className:d,children:a.map((function(e){return(0,x.jsx)(_,{movie:e,pathname:s},e.id)}))})}},235:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(459),n="Pagination_list__t7oBK",r=a(184);var l=function(e){var t=e.page,a=e.setPage,l=e.totalPages,c=function(e){a(e<l?e:l)};return(0,r.jsxs)("div",{className:n,children:[t>1&&(0,r.jsx)(s.Z,{text:"<",onClick:function(){return c(t-1)},className:"small"}),t>1&&(0,r.jsx)(s.Z,{text:"1",onClick:function(){return a(1)},className:"small"}),t-2>2&&(0,r.jsx)("span",{children:"..."}),t-2>1&&(0,r.jsx)(s.Z,{text:t-2,onClick:function(){return c(t-2)},className:"small"}),t-1>1&&(0,r.jsx)(s.Z,{text:t-1,onClick:function(){return c(t-1)},className:"small"}),(0,r.jsx)(s.Z,{text:t,onClick:function(){},className:"current"}),t+1<l&&(0,r.jsx)(s.Z,{text:t+1,onClick:function(){return c(t+1)},className:"small"}),t+2<l&&(0,r.jsx)(s.Z,{text:t+2,onClick:function(){return c(t+2)},className:"small"}),t+2<l-1&&(0,r.jsx)("span",{children:"..."}),t<l&&(0,r.jsx)(s.Z,{text:l,onClick:function(){return c(l)},className:"small"}),t<l&&(0,r.jsx)(s.Z,{text:">",onClick:function(){return c(t+1)},className:"small"})]})}},661:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var s=a(418),n=a(87),r=a(885),l=a(791),c=a(501),o="SearchForm_form__o80os",i="SearchForm_label__GvSVH",u="SearchForm_btn__TXrR3",m="SearchForm_input__HOxJo",v=a(134),x="IconButton_search__qfkbX IconButton_btn__PoeXD",_=a(184);var d=function(e){var t=e.type,a=void 0===t?"button":t;return"search"===e.icon?(0,_.jsx)("button",{type:a,className:x,"aria-label":"search",children:(0,_.jsx)(v.RB5,{style:{width:"40"}})}):(0,_.jsx)("button",{type:a,"aria-label":"button"})};var f=function(e){var t=(0,l.useState)(""),a=(0,r.Z)(t,2),s=a[0],n=a[1],v=(0,c.lr)(),x=(0,r.Z)(v,2)[1],f=function(){return n("")};return(0,_.jsx)("form",{className:o,onSubmit:function(e){e.preventDefault();var t=e.target.query.value.trim().toLowerCase();x(t?{query:t}:{}),f()},children:(0,_.jsxs)("label",{className:i,children:[(0,_.jsx)("span",{className:u,children:(0,_.jsx)(d,{type:"submit",icon:"search"})}),(0,_.jsx)("input",{className:m,type:"text",name:"query",placeholder:"Search movies",value:s,onInput:function(e){var t=e.target.value;n(t)}})]})})},h=a(933),g=a(871),j=a(829),p=a(908),Z=a(992),N=a(235),b="MovieSearch_error__G9X2c";var C=function(e){var t,a=e.page,s=e.totalPages,n=e.setPage,o=e.setTotalPages,i=(0,c.lr)(),u=(0,r.Z)(i,1)[0].get("query"),m=(0,h.useQuery)(["movies",u,a],(function(){return u?(Z.Z.query=u,Z.Z.page=a,Z.Z.getMovies()):[]})),v=m.data,x=m.isLoading;(0,l.useEffect)((function(){n(1)}),[n]);var d=(0,g.TH)().pathname,f=null===v||void 0===v?void 0:v.total_pages;return(0,l.useEffect)((function(){f&&o(f)}),[f,o]),x?(0,_.jsx)(p.Z,{}):!u||null!==v&&void 0!==v&&null!==(t=v.results)&&void 0!==t&&t.length?(0,_.jsxs)(l.Fragment,{children:[(null===v||void 0===v?void 0:v.results)&&(0,_.jsx)(j.Z,{movies:v.results,pathname:d}),u&&(0,_.jsx)(N.Z,{page:a,setPage:n,totalPages:s})]}):(0,_.jsxs)("p",{className:b,children:[u," not found"]})};var k=function(e){var t=e.page,a=e.totalPages,r=e.setPage,l=e.setTotalPages;return(0,_.jsx)(s.Z,{children:(0,_.jsxs)(n.Z,{children:[(0,_.jsx)(f,{}),(0,_.jsx)(C,{page:t,setPage:r,totalPages:a,setTotalPages:l})]})})}}}]);
//# sourceMappingURL=Movies.bf5838fe.chunk.js.map