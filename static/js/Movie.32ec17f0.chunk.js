"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[816],{459:function(e,t,n){n.d(t,{Z:function(){return o}});var r={btn:"Button_btn__RBtNK",center:"Button_center__afHOB Button_btn__RBtNK",small:"Button_small__QdkfY Button_btn__RBtNK",current:"Button_current__7YQVH Button_small__QdkfY Button_btn__RBtNK"},i=n(184);var o=function(e){var t=e.text,n=e.onClick,o=e.type,c=void 0===o?"button":o,a=e.className,s=void 0===a?"btn":a;return(0,i.jsx)("button",{type:c,className:r[s],onClick:n,children:t})}},334:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(933),i=n(501),o=n(871),c=n(418),a=n(87),s=n(459),u=n(992),l="Movie_wrapper__ab4g-",d="Movie_img__WUHrV",v="Movie_content__TZWZo",h="Movie_genres__y-BLu",f="Movie_information__7+iT3",_="Movie_list__sqWn9",p=n(184);var b=function(){var e,t,n=(0,o.s0)(),b=(0,o.TH)(),Z=(0,o.UO)().movieId,j=(0,r.useQuery)("".concat(Z),(function(){return u.Z.getMovie(Z)}),{placeholderData:{release_date:"1970",genres:[]},retry:!1,onError:function(){return n("/")}}).data,m=j.poster_path,y=j.title,g=j.release_date,w=j.vote_average,N=j.overview,x=j.genres,O=g.slice(0,4),P=m?"".concat("https://www.themoviedb.org/t/p/w300_and_h450_bestv2").concat(m):"/300x450.png";return(0,p.jsx)(c.Z,{children:(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(s.Z,{text:"Go back",onClick:function(){var e,t,r,i,o=null!==(e=null===b||void 0===b||null===(t=b.state)||void 0===t?void 0:t.pathname)&&void 0!==e?e:"/",c=null!==(r=null===b||void 0===b||null===(i=b.state)||void 0===i?void 0:i.query)&&void 0!==r?r:"",a=c?"".concat(o,"?query=").concat(c):o;n(a)}}),(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)("img",{src:P,alt:y,className:d}),(0,p.jsxs)("div",{className:v,children:[(0,p.jsxs)("h1",{children:[y," (",O,")"]}),(0,p.jsxs)("p",{children:["User score: ",Math.round(10*w),"%"]}),(0,p.jsx)("h2",{children:"Overview"}),(0,p.jsx)("p",{children:N}),(0,p.jsx)("h3",{children:"Genres"}),x.length&&(0,p.jsx)("ul",{className:h,children:x.map((function(e){var t=e.id,n=e.name;return(0,p.jsx)("li",{children:n},t)}))})]})]}),(0,p.jsxs)("div",{className:f,children:[(0,p.jsx)("p",{children:"Additional information"}),(0,p.jsxs)("ul",{className:_,children:[(0,p.jsx)("li",{children:(0,p.jsx)(i.rU,{to:"/movies/".concat(Z,"/cast"),state:null!==(e=null===b||void 0===b?void 0:b.state)&&void 0!==e?e:b,children:"Cast"})}),(0,p.jsx)("li",{children:(0,p.jsx)(i.rU,{to:"/movies/".concat(Z,"/reviews"),state:null!==(t=null===b||void 0===b?void 0:b.state)&&void 0!==t?t:b,children:"Reviews"})})]})]}),(0,p.jsx)(o.j3,{context:[Z]})]})})}},418:function(e,t,n){n.d(t,{Z:function(){return o}});var r={section:"Section_section__Z2PLw",search:"Section_search__Yd9dR"},i=n(184);var o=function(e){var t=e.type,n=void 0===t?"section":t,o=e.children;return(0,i.jsx)("section",{className:r[n],children:o})}},992:function(e,t,n){var r=n(671),i=n(144),o=n(274),c=n(359),a=(0,c.Z)("BASE_URL"),s=(0,c.Z)("KEY"),u=(0,c.Z)("PARAMS"),l=(0,c.Z)("query"),d=(0,c.Z)("page"),v=(0,c.Z)("fetchUrl"),h=function(){function e(){var t=this;(0,r.Z)(this,e),Object.defineProperty(this,v,{value:f}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),this.getTrending=function(){var n="".concat(e.ENDPOINTS.TRENDING,"?page=").concat((0,o.Z)(t,d)[d],"&");return(0,o.Z)(t,v)[v](n)},(0,o.Z)(this,d)[d]=1}return(0,i.Z)(e,[{key:"getMovies",value:function(){var t=new URLSearchParams({query:(0,o.Z)(this,l)[l],page:(0,o.Z)(this,d)[d]}),n="".concat(e.ENDPOINTS.SEARCH,"?").concat(t,"&");return(0,o.Z)(this,v)[v](n).then((function(e){return e.results}))}},{key:"getMovie",value:function(t){var n="".concat(e.ENDPOINTS.MOVIE).concat(t,"?");return(0,o.Z)(this,v)[v](n)}},{key:"getCast",value:function(t){var n="".concat(e.ENDPOINTS.MOVIE).concat(t,"/credits?");return(0,o.Z)(this,v)[v](n).then((function(e){return e.cast}))}},{key:"getReviews",value:function(t){var n="".concat(e.ENDPOINTS.MOVIE).concat(t,"/reviews?");return(0,o.Z)(this,v)[v](n).then((function(e){return e.results}))}},{key:"query",get:function(){return(0,o.Z)(this,l)[l]},set:function(e){(0,o.Z)(this,l)[l]=e}},{key:"page",get:function(){return(0,o.Z)(this,d)[d]},set:function(e){(0,o.Z)(this,d)[d]=e>0?e:1}}]),e}();function f(e){return fetch("".concat((0,o.Z)(h,a)[a]).concat(e).concat((0,o.Z)(h,u)[u])).then((function(e){return e.ok?e.json():Promise.reject(e)}))}Object.defineProperty(h,a,{writable:!0,value:"https://api.themoviedb.org/3/"}),Object.defineProperty(h,s,{writable:!0,value:"fadfbb72581e18342bb7490adda20bdd"}),Object.defineProperty(h,u,{writable:!0,value:new URLSearchParams({api_key:(0,o.Z)(h,s)[s],language:"en-US"})}),h.ENDPOINTS={SEARCH:"search/movie",MOVIE:"movie/",TRENDING:"trending/all/day"};var _=new h;t.Z=_},671:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},274:function(e,t,n){function r(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}n.d(t,{Z:function(){return r}})},359:function(e,t,n){n.d(t,{Z:function(){return i}});var r=0;function i(e){return"__private_"+r+++"_"+e}},144:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})}}]);
//# sourceMappingURL=Movie.32ec17f0.chunk.js.map